<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WilliamApp.Views.AgregarMetodoPagoPage"
             Title="Agregar método de pago"
             BackgroundColor="#F9F9F9">

    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">

            <Frame BackgroundColor="White" Padding="20" CornerRadius="12" HasShadow="True">
                <VerticalStackLayout Spacing="12">

                    <Label Text="Nuevo método de pago"
                           FontAttributes="Bold"
                           FontSize="20" />

                    <Label Text="Tipo de método *" FontSize="14" TextColor="#616161" />
                    <Picker SelectedItem="{Binding Metodo}"
                            Title="Selecciona un tipo">
                        <Picker.ItemsSource>
                            <x:Array Type="{x:Type x:String}">
                                <x:String>Tarjeta de Crédito</x:String>
                                <x:String>Tarjeta de Débito</x:String>
                                <x:String>MercadoPago</x:String>
                                <x:String>Efectivo</x:String>
                            </x:Array>
                        </Picker.ItemsSource>
                    </Picker>

                    <Label Text="Titular" FontSize="14" TextColor="#616161" />
                    <Entry Text="{Binding Titular}"
                           Placeholder="Nombre del titular" />

                    <Label Text="Últimos 4 dígitos" FontSize="14" TextColor="#616161" />
                    <Entry Text="{Binding Ultimos4}"
                           Placeholder="1234"
                           Keyboard="Numeric"
                           MaxLength="4" />

                    <Label Text="Fecha de expiración" FontSize="14" TextColor="#616161" />
                    <Entry Text="{Binding Expiracion}"
                           Placeholder="MM/YY"
                           MaxLength="5" />

                </VerticalStackLayout>
            </Frame>

            <Button Text="Guardar"
                    BackgroundColor="#FFD600"
                    TextColor="Black"
                    FontAttributes="Bold"
                    CornerRadius="12"
                    HeightRequest="50"
                    Command="{Binding GuardarCommand}" />

            <Button Text="Cancelar"
                    BackgroundColor="#E0E0E0"
                    TextColor="Black"
                    CornerRadius="12"
                    HeightRequest="50"
                    Command="{Binding CancelarCommand}" />

            <ActivityIndicator IsRunning="{Binding IsBusy}"
                               IsVisible="{Binding IsBusy}"
                               Color="#FFD600"
                               HorizontalOptions="Center" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>